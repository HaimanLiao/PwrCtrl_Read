/*
* *******************************************************************************
*    @(#)Copyright (C) 2013-2020
* *******************************************************************************
*/
/*
* *******************************************************************************
* FILE NAME			: zmq_api.h
* SYSTEM NAME		: ZMQ收发
* BLOCK NAME		:
* PROGRAM NAME		:
* MDLULE FORM		:
* -------------------------------------------------------------------------------
* AUTHOR			: wenlong wan
* DEPARTMENT		:
* DATE				: 20200219
* *******************************************************************************
*/

#ifndef __ZMQ_API_H__
#define __ZMQ_API_H__

/*
* *******************************************************************************
*                                  Include
* *******************************************************************************
*/

#include "option.h"
#include <zmq.h>

/*
* *******************************************************************************
*                                  Define
* *******************************************************************************
*/

#define 	THEME_MAX_NUM		8 	// 最多支持8个订阅主题
#define 	ZMQ_BUFFER_LEN 		MAX_BUFFER_LEN

/*
* *******************************************************************************
*                                  Enum
* *******************************************************************************
*/


/*
* *******************************************************************************
*                                  Union
* *******************************************************************************
*/


/*
* *******************************************************************************
*                                  Struct
* *******************************************************************************
*/

#pragma pack(1)

typedef struct
{
	char *subIPC;
	char *pubIPC;
	char proxyEn;
	char subTheme[THEME_MAX_NUM][64];
	CallBackFun pCallBack;
}ZMQ_SETINFO_STRUCT;

typedef struct
{
	char subTheme[64];		
	char pubTheme[64];
	unsigned char msg[ZMQ_BUFFER_LEN];
	int  length;
}ZMQ_MSG_STRUCT;

#pragma pack()

/*
* *******************************************************************************
*                                  Extern
* *******************************************************************************
*/

int Zmq_Init(ZMQ_SETINFO_STRUCT info);
void Zmq_Uninit();
int Zmq_Publish(ZMQ_MSG_STRUCT sendMsg);

#endif // __ZMQ_API_H__
